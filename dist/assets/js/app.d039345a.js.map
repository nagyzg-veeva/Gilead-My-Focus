{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/js/q.js","webpack:///./src/App.vue?7e02","webpack:///./src/pages/index.vue?4623","webpack:///./src/assets/js/myinsights_lib.js","webpack:///./src/App.vue?2615","webpack:///./src/components/Spinner.vue?f647","webpack:///src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?8682","webpack:///./src/components/Spinner.vue","webpack:///./src/pages/index.vue?8c82","webpack:///./src/data/myinsights/query.js","webpack:///src/pages/index.vue","webpack:///./src/pages/index.vue?dc4e","webpack:///./src/pages/index.vue?27c8","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/store/modules/data.js","webpack:///./src/helper/util.js","webpack:///./src/store/actions.js","webpack:///./src/store/store.js","webpack:///./src/main.js","webpack:///./src/assets/images/arrow_icon.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","definition","bootstrap","console","log","global","self","Q","define","ses","ok","makeQ","Error","previousQ","noConflict","this","hasStacks","e","stack","qFileName","qStartingLine","captureLine","noop","nextTick","head","task","next","tail","flushing","requestTick","isNodeJS","laterQueue","flush","domain","enter","runSingle","pop","exit","setTimeout","process","toString","setImmediate","MessageChannel","channel","port1","onmessage","requestPortTick","port2","postMessage","runAfter","Function","uncurryThis","f","arguments","QReturnValue","array_slice","Array","array_reduce","reduce","callback","basis","index","TypeError","array_indexOf","indexOf","array_map","map","thisp","collect","undefined","object_create","Type","object_defineProperty","obj","prop","descriptor","object_hasOwnProperty","object_keys","keys","object_toString","isObject","isStopIteration","exception","ReturnValue","STACK_JUMP_SEPARATOR","makeStackTraceLong","error","promise","stacks","source","__minimumStackCounter__","stackCounter","configurable","unshift","concatedStacks","join","filterStackString","stackString","lines","split","desiredLines","line","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","exec","Number","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qEndingLine","firstLine","deprecate","alternative","warn","Promise","isPromiseAlike","coerce","fulfill","resolve","longStackSupport","longStackCounter","defer","resolvedPromise","messages","progressListeners","deferred","promiseDispatch","op","operands","args","valueOf","nearerValue","nearer","isPromise","inspect","state","substring","become","newPromise","message","reject","reason","notify","progress","progressListener","resolver","race","answerPs","len","then","fallback","inspected","when","rejected","progressed","isPending","isFulfilled","isRejected","Q_DEBUG","makeNodeResolver","all","passByCopy","x","y","that","spread","makePromise","done","_fulfilled","_rejected","newException","_progressed","newValue","threw","onerror","tap","fcall","thenResolve","thenReject","unhandledReasons","unhandledRejections","reportedUnhandledRejections","trackUnhandledRejections","resetUnhandledRejections","trackRejection","emit","untrackRejection","at","atReport","rejection","rhs","master","dispatch","async","makeGenerator","continuer","verb","arg","StopIteration","generator","errback","spawn","_return","promised","promises","pendingCount","snapshot","any","prev","current","onFulfilled","onRejected","err","onProgress","allResolved","allSettled","nodeify","nodeback","getUnhandledReasons","stopUnhandledRejectionTracking","array","set","del","mapply","post","send","mcall","invoke","fapply","fbind","concat","regardless","fail","fin","onUnhandledError","timeout","ms","timeoutId","code","clearTimeout","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke","VeevaUtilities","veevaUtil","getIndicesOf","searchStr","str","caseSensitive","searchStrLen","startIndex","indices","toLowerCase","isWin8","navigator","platform","isWindowsMobile","external","isOnline","host","location","hostname","cdnRETest","cloudFrontDomain","isCloudFront","test","addMessageListener","addEventListener","attachEvent","removeMessageListener","removeEventListener","detachEvent","mergeObjects","dst","src","clobber","k","copyObject","JSON","parse","stringify","deepCopy","originalObject","clonedObject","Date","constructor","replaceStringInWhereClause","whereClause","input","stringToBeReplaced","OnlineAPI","olAPI","listenerQueue","translationsCache","queries","translations","fields","where","errorCode","GENERIC","NO_PARAMETER","queryListener","command","deferredId","queryRunning","checkQueryQueue","_MESSAGE_REGISTRY","messageId","parent","delegateOnlineRequest","queryConfig","respHandler","interDeferred","resp","onlineErrorResponse","customErrorObject","queryRecord","sort","limit","genericQueryErrorHandler","errors","queryObject","queriesQueue","config","type","querySalesData","query","Math","random","getDataForCurrentObject","field","newConfig","getObjectLabels","objects","getFieldLabels","labels","newLabels","display","getTranslation","tokens","localeKey","whereSubClauses","cachedResponses","cache","msgName","msgCategory","Name","Category_vod__c","getPicklistValueLabels","newRecord","configObject","messageBody","viewRecord","smartLinking","getAvailableObjects","getObjectMetadata","getRecordTypeLabels","objectName","DataService","ds","DATE_REGEX","URL_REGEX","ISO_DATE_REGEX","VALID_DATE_FORMAT_REGEX","MESSAGE_HANDLERS","webkit","messageHandlers","isISODateFormat","inputString","isValidDateFormat","normalizeTimeDigits","digitInString","parseInt","extractDateStringToNumbers","parts","match","year","month","date","hours","minutes","seconds","parseDate","extractedDigits","getCRMDate","dateString","newDate","getResultSet","fieldLabels","urlTrimProtocolRE","urlTrimDubRE","tempDate","realDate","getFullYear","getMonth","getDate","dataType","tempUrl","replace","formattedData","label","getLabelFromLabels","runQueryHelper","picklistsAvailable","picklists","finishQuery","results","reportQueryError","getPicklists","thisPicklist","nextPicklist","deferredInner","picklistResp","thisPicklistsResp","pk","picklistName","picklistValues","records","record","formattedRecord","objectLabelDeferred","fieldLabelDeferred","queryRecordDeferred","allPromises","allResp","objectLabelResp","fieldLabelResp","queryRecordResp","runQueryResp","constructRequest","request","fieldLabel","sendLinkingRequest","req","constructLinkingRequest","constructSmartLinkingRequest","registerCallbackFunction","uniqueCallbackName","win8ParseError","formatResult","success","wrapResult","a","errorMessage","callbackFunctionName","runAPIRequest","eval","apiName","encodeURIComponent","document","postMessageRequest","doPostMessage","myInsightsAPI","parseArrayForMultiPicklist","configClone","forEach","isArray","delegateQueryRequest","runQuery","joinQueries","q1","q2","keyForID","fieldsLabelsToExclude","primaryObjectName","primaryQuery","secondaryQuery","joinTo","joinFrom","joins","ID","propertyToMove","deleteExcludedLabels","primaryLabels","secondaryLabels","getInStatement","ids","online","statmentEnd","statementBegin","getVeevaMessagesWithDefault","languageLocaleKey","queryVDSRecord","customQueryQueueHandler","createRecord","updateRecord","executeSuggestionAction","suggestionId","actionType","action","options","Id","launchMediaForAccount","accountId","presentationId","keyMessageMediaFileName","linkingOptions","prefill","Call2_vod__c","Account_vod__c","Presentation_Id_vod__c","Key_Message_vod__c","Media_File_Name_vod__c","getCurrentPosition","event","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","_m","staticClass","staticStyle","_v","component","mainPage","myFocusAccountTable","myUnsubmittedCallsTable","on","$event","changeView","model","$$v","search","expression","focusAccountsData","tableHeadersAccounts","scopedSlots","_u","fn","row","smartLink","item","_s","calls","_e","myUnsubmittedCallsData","tableHeadersCalls","abs","ceil","Call_Date_vod__c","today","accountName","myFocusAccounts","items","isMyFocusAvailable","myUnsubmittedCall","$q","utils","getCurrent","fieldName","getAvailableFields","sObject","params","getFocusAccounts","getAccounts","accountIds","whereStatement","getCalls","currentUserId","recordId","catch","components","Spinner","Home","computed","methods","isLoading","veevaMessages","mutations","actions","setLoading","commit","getters","getIds","idField","toReturn","includes","groupBy","groupByField","_","groupCallsByAccounts","accountNameById","accounts","getUnsubmittedCalls","unsubmittedCalls","Status_vod__c","addNumberOfCalls","callsgrouped","account","createDataForVTable","notNeededFields","additionals","notAvailableFields","headers","createVTableHeader","tempObj","round","loadData","TSFavailableFields","find","User","myCalls","focusAccounts","util","myFocusAccountCalls","myfocusAccountCallsGrouped","singular","allAccounts","accountNames","callsGroupedByAccount","myUnsubmittedCalls","Vue","use","Vuex","Store","initApp","router","VueRouter","routes","store","vuetify","Vuetify","render","h","App","$mount","BootstrapVue","vDataTable","productionTip","ex","getElementById","innerText"],"mappings":"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","file":"assets/js/app.d039345a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2017 Kris Kowal under the terms of the MIT\n * license found at https://github.com/kriskowal/q/blob/v1/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n/* eslint-disable */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        console.log('bootstrap')\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        console.log('commonjs',definition())\n        module.exports = definition();\n        var global = typeof window !== \"undefined\" ? window : self;\n        global.Q = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        console.log('function')\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        console.log('SES')\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\n        // Prefer window over self for add-on scripts. Use self for\n        // non-windowed contexts.\n        var global = typeof window !== \"undefined\" ? window : self;\n        console.log('window',window,typeof window)\n        // Get the `window` object, save the previous Q global\n        // and initialize Q as a global.\n        var previousQ = global.Q;\n        global.Q = definition();\n        console.log('global q?',Q)\n        // Add a noConflict function so Q can be removed from the\n        // global namespace.\n        global.Q.noConflict = function () {\n            global.Q = previousQ;\n            return this;\n        };\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.toString()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you don’t need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Miller’s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_defineProperty = Object.defineProperty || function (obj, prop, descriptor) {\n    obj[prop] = descriptor.value;\n    return obj;\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack && (!error.__minimumStackCounter__ || error.__minimumStackCounter__ > p.stackCounter)) {\n                object_defineProperty(error, \"__minimumStackCounter__\", {value: p.stackCounter, configurable: true});\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        var stack = filterStackString(concatedStacks);\n        object_defineProperty(error, \"stack\", {value: stack, configurable: true});\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * The counter is used to determine the stopping point for building\n * long stack traces. In makeStackTraceLong we walk backwards through\n * the linked list of promises, only stacks which were created before\n * the rejection are concatenated.\n */\nvar longStackCounter = 1;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nconsole.log('Q.defer?',Q)\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n            promise.stackCounter = longStackCounter++;\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n\n        if (Q.longStackSupport && hasStacks) {\n            // Only hold a reference to the new promise if long stacks\n            // are enabled to reduce memory usage\n            promise.source = newPromise;\n        }\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Q can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If it’s a fulfilled promise, the fulfillment value is nearer.\n * If it’s a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected(err) {\n            pendingCount--;\n            if (pendingCount === 0) {\n                var rejection = err || new Error(\"\" + err);\n\n                rejection.message = (\"Q can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected. Last error message: \" + rejection.message);\n\n                deferred.reject(rejection);\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    if (!callback || typeof callback.apply !== \"function\") {\n        throw new Error(\"Q can't apply finally callback\");\n    }\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    if (callback === undefined) {\n        throw new Error(\"Q can't wrap an undefined function\");\n    }\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n\n});\nexport default Q\n\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5785a15f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5785a15f&scoped=true&lang=css&\"","/*\n *  Veeva MyInsights Library version 201.11.662\n *  \n *  http://developer.veevacrm.com/\n *  \n *  Copyright Â© 2019 Veeva Systems, Inc. All rights reserved.\n *  \n *  My Insights Library is dependent on the Q library, which enables you to work with promises as returns from the My Insights Library methods.\n *  Include the Q library as a script in the custom report package.\n *  Q Library License Acknowledgements\n *  Copyright 2009-2017 Kristopher Michael Kowal. All rights reserved.\n *  Q library can be downloaded here https://github.com/kriskowal/q/blob/v1/LICENSE\n *  \n */\n/* eslint-disable */\nimport \"./q\";   \nimport Q from './q'\n\n(function () {\n    'use strict';\n    window.VeevaUtilities = function () {\n        var veevaUtil = this;\n\n        veevaUtil.isWin8 = function () {\n            return navigator.platform.toLowerCase().indexOf('win') >= 0;\n        };\n\n        /**\n         * Returns true if the client is Windows tablet\n         * @return {Boolean}\n         */\n        veevaUtil.isWindowsMobile = function() {\n            return (typeof window.external !== 'undefined') && ('notify' in window.external);\n        };\n\n        veevaUtil.isOnline = function () {\n            var host = window.location.hostname;\n            var cdnRETest = /cdnhtml/gi;\n            var cloudFrontDomain = 'cloudfront.net';\n            var isCloudFront = host.indexOf(cloudFrontDomain) >= 0;\n\n            return cdnRETest.test(host) || isCloudFront;\n        };\n\n        veevaUtil.addMessageListener = function (callback) {\n            if (window.addEventListener) {\n                window.addEventListener('message', callback, false);\n            } else {\n                window.attachEvent('onmessage', callback);\n            }\n            return callback;\n        };\n\n        veevaUtil.removeMessageListener = function (callback) {\n            if (window.removeEventListener) {\n              window.removeEventListener('message', callback, false);\n            }\n            else {\n              window.detachEvent('onmessage', callback);\n            }\n        };\n\n        veevaUtil.mergeObjects = function (dst, src, clobber) {\n            for (var k in src) {\n                if (src.hasOwnProperty(k) && ((!clobber && !dst[k]) || clobber)) {\n                    dst[k] = src[k];\n                }\n            }\n            return dst;\n        };\n\n        veevaUtil.copyObject = function (obj) {\n            return JSON.parse(JSON.stringify(obj));\n        };\n\n        veevaUtil.deepCopy = function (originalObject) {\n            if(originalObject === null || typeof(originalObject) !== 'object') {\n                return originalObject;\n            }\n\n            var clonedObject;\n            if(originalObject instanceof Date) {\n                clonedObject = new Date(originalObject);\n            } else {\n                clonedObject = originalObject.constructor();\n            }\n\n            for(var key in originalObject) {\n                // Ignore inherited properties\n                if(Object.prototype.hasOwnProperty.call(originalObject, key)) {\n                    //TODO: worse case O(2^n), any better?\n                    clonedObject[key] = veevaUtil.deepCopy(originalObject[key]);\n                }\n            }\n\n            return clonedObject;\n        };\n\n        veevaUtil.replaceStringInWhereClause = function (whereClause, input, stringToBeReplaced) {\n            var result = '', i;\n            var indices = getIndicesOf(stringToBeReplaced, whereClause);\n\n            if (indices.length === 0) {\n                return whereClause;\n            }\n\n            for (i = 0; i < indices.length; i+=1) {\n\n                if (i === 0) {\n                    result += whereClause.slice(0, indices[0]);\n                }else {\n                    result += whereClause.slice((indices[i - 1] + stringToBeReplaced.length), indices[i]);\n                }\n\n                result = result + \"'\" + input + \"'\";\n            }\n\n            result += whereClause.slice((indices[indices.length - 1] + stringToBeReplaced.length));\n\n            return result;\n        };\n\n        function getIndicesOf(searchStr, str, caseSensitive) {\n            var searchStrLen = searchStr.length;\n            var startIndex = 0, index, indices = [];\n\n            if (searchStrLen === 0) {\n                return [];\n            }\n\n            if (!caseSensitive) {\n                str = str.toLowerCase();\n                searchStr = searchStr.toLowerCase();\n            }\n\n            while ((index = str.indexOf(searchStr, startIndex)) > -1) {\n                indices.push(index);\n                startIndex = index + searchStrLen;\n            }\n\n            return indices;\n        }\n    };\n})();\n(function (Q) {\n    'use strict';\n    window.OnlineAPI = function () {\n        var olAPI = this;\n        var listenerQueue = {};\n        var veevaUtil = new window.VeevaUtilities();\n        var translationsCache = {};\n        var queries = {\n            translations: {\n                object: 'Message_vod__c',\n                fields: ['Name', 'Category_vod__c', 'Language_vod__c', 'Text_vod__c'],\n                where: ''\n            }\n        };\n        var errorCode = {\n            GENERIC: 0,\n            NO_PARAMETER: 2\n        };\n\n        function queryListener(message) {\n            var data;\n            if (typeof message.data === 'string') {\n                try {\n                    data = JSON.parse(message.data);\n                }\n                catch (e) {\n                    data = {data: {}};\n                }\n            }\n            if (data.command === 'queryReturn') {\n                if (listenerQueue[data.deferredId]) {\n                    listenerQueue[data.deferredId].resolve(data);\n                    delete listenerQueue[data.deferredId];\n\n                    if(~data.deferredId.indexOf('callback_queued_')) {\n                        olAPI.queryRunning = false;\n                        olAPI.checkQueryQueue();\n                    }\n                } else if (olAPI._MESSAGE_REGISTRY[data.messageId]) {\n                    olAPI._MESSAGE_REGISTRY[data.messageId].resolve(data);\n\n                    delete olAPI._MESSAGE_REGISTRY[data.messageId];\n                } else {\n                    console.warn('deferred object not found', data);\n                }\n            } else if (data.command === 'error') {\n                if(listenerQueue[data.deferredId]) {\n                    listenerQueue[data.deferredId].reject(data);\n                    delete listenerQueue[data.deferredId];\n\n                    if(~data.deferredId.indexOf('callback_queued_')) {\n                        olAPI.queryRunning = false;\n                        olAPI.checkQueryQueue();\n                    }\n                }else if (olAPI._MESSAGE_REGISTRY[data.messageId]) {\n                    olAPI._MESSAGE_REGISTRY[data.messageId].reject(data);\n\n                    delete olAPI._MESSAGE_REGISTRY[data.messageId];\n                }\n            } else {\n                console.warn('unknown command', message);\n            }\n        }\n\n        function addMessageListener(callback) {\n            if (window.addEventListener) {\n                window.addEventListener('message', callback, false);\n            }\n            else {\n                window.attachEvent('onmessage', callback);\n            }\n        }\n\n        function postMessage(message) {\n            window.parent.postMessage(JSON.stringify(message), '*');\n        }\n\n        function delegateOnlineRequest(queryConfig, deferredId, deferred, respHandler) {\n            olAPI.queryRunning = true;\n            listenerQueue[deferredId] = deferred;\n\n            // When optional callback function is given:\n            if(typeof respHandler === 'function') {\n                var interDeferred = Q.defer();\n                listenerQueue[deferredId] = interDeferred;\n                interDeferred.promise.then(function(resp) {\n                    respHandler(resp, deferred);\n                });\n            }\n\n            postMessage(queryConfig);\n        }\n\n        function onlineErrorResponse(code, message) {\n            var customErrorObject = {};\n            customErrorObject.success = false;\n            customErrorObject.code = code;\n            customErrorObject.message = message;\n            return customErrorObject;\n        }\n\n        /**\n         * Wrapper function for the legacy online queryRecord function\n         */\n        function queryRecord(object, fields, where, sort, limit) {\n            var deferred = Q.defer();\n            var deferredId = 'callback_' + (+new Date());\n            var queryConfig = {\n                command: 'queryObject',\n                object: object,\n                fields: fields,\n                where: where,\n                sort: sort,\n                limit: limit,\n                deferredId: deferredId\n            };\n            listenerQueue[deferredId] = deferred;\n            postMessage(queryConfig);\n            return deferred.promise;\n        }\n\n        olAPI.genericQueryErrorHandler = function (e) {\n            var errors = e.error;\n            var i = errors.length;\n            while (i--) {\n                errors[i] = {\n                    message: errors[i].message,\n                    error: errors[i].errorCode\n                };\n            }\n            console.log(e);\n        };\n\n        olAPI.queryRecord = function (queryObject) {\n            if(arguments.length > 1) {\n                // Fallback method for legacy queryRecord\n                return queryRecord.apply(olAPI, arguments);\n            }\n\n            var deferred = Q.defer();\n\n            if (olAPI.queryRunning) {\n                olAPI.queriesQueue.push({\n                    config: queryObject,\n                    deferred: deferred,\n                    type: 'queryRecord_ol'\n                });\n            } else {\n                var deferredId = 'callback_queued_' + (+new Date());\n                var queryConfig = {\n                    command: 'queryObject',\n                    object: queryObject.object,\n                    fields: queryObject.fields,\n                    where: queryObject.where,\n                    sort: queryObject.sort,\n                    limit: queryObject.limit,\n                    deferredId: deferredId\n                };\n                delegateOnlineRequest(queryConfig, deferredId, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        olAPI.querySalesData = function(queryObject) {\n            var deferred = Q.defer();\n\n            if(olAPI.queryRunning) {\n                olAPI.queriesQueue.push({\n                    config: queryObject,\n                    deferred: deferred,\n                    type: 'querySalesData_ol'\n                });\n            } else {\n                var deferredId = 'callback_queued_' + (+new Date());\n                var queryConfig = {\n                    command: 'querySalesData',\n                    object: queryObject.object,\n                    fields: queryObject.fields,\n                    where: queryObject.where,\n                    sort: queryObject.sort,\n                    limit: queryObject.limit,\n                    deferredId: deferredId\n                };\n                delegateOnlineRequest(queryConfig, deferredId, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        olAPI.query = function (queryConfig) {\n            var deferred = Q.defer();\n            var deferredId = 'callback_' + Math.random().toString(36).substring(2); // (+new Date());\n            queryConfig.deferredId = deferredId;\n            listenerQueue[deferredId] = deferred;\n            postMessage(queryConfig);\n\n            return deferred.promise;\n        };\n\n        olAPI.getDataForCurrentObject = function (object, field) {\n            console.log('getDataForCurrentObject',Q)\n            var deferred = Q.defer();\n\n            if(olAPI.queryRunning) {\n                olAPI.queriesQueue.push({\n                    object: object,\n                    field: field,\n                    deferred: deferred,\n                    type: 'getDataForCurrentObject_ol'\n                });\n            } else {\n                var deferredId = 'callback_queued_' + (+new Date());\n                var newConfig = {\n                    command: 'getDataForObjectV2',\n                    object: object,\n                    fields: [field],\n                    deferredId: deferredId\n                };\n                delegateOnlineRequest(newConfig, deferredId, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        olAPI.getObjectLabels = function (objects) {\n            var deferred = Q.defer();\n\n            if(olAPI.queryRunning) {\n                olAPI.queriesQueue.push({\n                    config: objects,\n                    deferred: deferred,\n                    type: 'getObjectLabels_ol'\n                });\n            } else {\n                var deferredId = 'callback_queued_' + (+new Date());\n                var newConfig = {\n                    command: 'getObjectLabels',\n                    object: objects,\n                    deferredId: deferredId\n                };\n                delegateOnlineRequest(newConfig, deferredId, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        olAPI.getFieldLabels = function (queryConfig) {\n            var deferred = Q.defer();\n            var object = queryConfig.object;\n            var fields = queryConfig.fields;\n\n            var respHandler = function(resp, deferred) {\n                var labels = resp[object];\n                var i = fields.length;\n                var newLabels = [];\n                while (i--) {\n                    newLabels.unshift({\n                        name: fields[i],\n                        display: labels[fields[i]]\n                    });\n                }\n                deferred.resolve(newLabels);\n            };\n\n            if(olAPI.queryRunning) {\n                olAPI.queriesQueue.push({\n                    config: queryConfig,\n                    deferred: deferred,\n                    type: 'getFieldLabels_ol'\n                });\n            } else {\n                var deferredId = 'callback_queued_' + (+new Date());\n                var newConfig = {\n                    command: 'getFieldLabel',\n                    object: object,\n                    fields: fields,\n                    deferredId: deferredId\n                };\n                delegateOnlineRequest(newConfig, deferredId, deferred, respHandler);\n            }\n\n            return deferred.promise;\n        };\n\n        olAPI.getTranslation = function (tokens, localeKey) {\n            var deferred = Q.defer();\n            var config = veevaUtil.copyObject(queries.translations);\n            var whereSubClauses = [];\n            var index = tokens.length;\n            var cachedResponses = [];\n            var cache = translationsCache;\n            while (index--) {\n                if (!cache[tokens[index].msgName + ':' + tokens[index].msgCategory]) {\n                    whereSubClauses.push(\"(Name='\" + tokens[index].msgName + \"' AND Category_vod__c='\" + tokens[index].msgCategory + \"')\");\n                }\n                else {\n                    cachedResponses.push(cache[tokens[index].msgName + ':' + tokens[index].msgCategory]);\n                }\n            }\n            config.where += \"(\" + whereSubClauses.join(\" OR \") + \")\" + \" AND Language_vod__c='\" + localeKey + \"'\";\n            // if all the responses were in the cache, then this will be empty and we just return the cached responses.\n            if (whereSubClauses.length) {\n                olAPI\n                    .queryRecord(config.object, config.fields, config.where)\n                    .then(function (resp) {\n                        var data = resp[config.object],\n                            d = data.length;\n                        deferred.resolve(data.concat(cachedResponses));\n                        while (d--) {\n                            if (!cache[data[d].Name.value + ':' + data[d].Category_vod__c.value]) {\n                                cache[data[d].Name.value + ':' + data[d].Category_vod__c.value] = data[d];\n                            }\n                        }\n                    });\n            }\n            else {\n                deferred.resolve(cachedResponses);\n            }\n            return deferred.promise;\n        };\n\n        olAPI.getPicklistValueLabels = function (object, field) {\n            var deferred = Q.defer();\n\n            if(olAPI.queryRunning) {\n                olAPI.queriesQueue.push({\n                    object: object,\n                    field: field,\n                    deferred: deferred,\n                    type: 'getPicklistValueLabels_ol'\n                });\n            } else {\n                var deferredId = 'callback_queued_' + (+new Date());\n                var newConfig = {\n                    command: 'getPicklistValueLabels',\n                    object: object,\n                    field: field,\n                    deferredId: deferredId\n                };\n                delegateOnlineRequest(newConfig, deferredId, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        olAPI.newRecord = function(configObject) {\n            var deferred = Q.defer();\n            if(typeof configObject === 'object') {\n                var messageBody = {};\n                messageBody.command = 'newRecord';\n                messageBody.configObject = configObject;\n                postMessage(messageBody);\n            }\n            return deferred.promise;\n        };\n\n        olAPI.viewRecord = function(configObject) {\n            var deferred = Q.defer();\n            if(typeof configObject === 'object') {\n                var messageBody = {};\n                messageBody.command = 'viewRecord';\n                messageBody.configObject = configObject;\n                postMessage(messageBody);\n            }\n            return deferred.promise;\n        };\n\n        olAPI.smartLinking = function(configObject) {\n            var deferred = Q.defer();\n\n            if (olAPI.queryRunning) {\n                olAPI.queriesQueue.push({\n                    config: configObject,\n                    deferred: deferred,\n                    type: 'smartLinking_ol'\n                });\n            } else {\n                var deferredId = 'callback_queued_' + (+new Date());\n                var queryConfig = {\n                    command: 'smartLinking',\n                    configObject: configObject,\n                    deferredId: deferredId\n                };\n                delegateOnlineRequest(queryConfig, deferredId, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        olAPI.getAvailableObjects = function() {\n            var deferred = Q.defer();\n\n            if (olAPI.queryRunning) {\n                olAPI.queriesQueue.push({\n                    deferred: deferred,\n                    type: 'getAvailableObjects_ol'\n                });\n            } else {\n                var deferredId = 'callback_queued_' + (+new Date());\n                var queryConfig = {\n                    command: 'getAvailableObjects',\n                    deferredId: deferredId\n                };\n\n                delegateOnlineRequest(queryConfig, deferredId, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        olAPI.getObjectMetadata = function(queryObject) {\n            var deferred = Q.defer();\n\n            if(queryObject && queryObject.object) {\n                if (olAPI.queryRunning) {\n                    olAPI.queriesQueue.push({\n                        config: queryObject,\n                        deferred: deferred,\n                        type: 'getObjectMetadata_ol'\n                    });\n                } else {\n                    var deferredId = 'callback_queued_' + (+new Date());\n                    var queryConfig = {\n                        command: 'getObjectMetadata',\n                        object: queryObject.object,\n                        deferredId: deferredId\n                    };\n\n                    delegateOnlineRequest(queryConfig, deferredId, deferred);\n                }\n            } else {\n                deferred.reject(onlineErrorResponse(errorCode.NO_PARAMETER, \"getObjectMetadata called with no parameter\"));\n            }\n\n            return deferred.promise;\n        };\n\n        olAPI.getRecordTypeLabels = function(objectName) {\n            var deferred = Q.defer();\n\n            if(objectName) {\n                if (olAPI.queryRunning) {\n                    olAPI.queriesQueue.push({\n                        config: objectName,\n                        deferred: deferred,\n                        type: 'getRecordTypeLabels_ol'\n                    });\n                } else {\n                    var deferredId = 'callback_queued_' + (+new Date());\n                    var queryConfig = {\n                        command: 'getRecordTypeLabels',\n                        object: objectName,\n                        deferredId: deferredId\n                    };\n\n                    delegateOnlineRequest(queryConfig, deferredId, deferred);\n                }\n            } else {\n                deferred.reject(onlineErrorResponse(errorCode.NO_PARAMETER, \"getRecordTypeLabels called with no parameter\"));\n            }\n\n            return deferred.promise;\n        };\n\n        addMessageListener(queryListener);\n    };\n})(window.Q);\n(function (Q) {\n    'use strict';\n    console.log('Q in myinsights',Q)\n    var DataService = function () {\n        var ds = this;\n        ds.queriesQueue = [];\n        ds.queryRunning = false;\n        ds.messageId = 0;\n\n        var veevaUtil = new window.VeevaUtilities();\n        var queries = {\n            translations: {\n                object: 'Message_vod__c',\n                fields: ['Name', 'Category_vod__c', 'Language_vod__c', 'Text_vod__c'],\n                where: ''\n            }\n        };\n        const DATE_REGEX = /date/i;\n        const URL_REGEX = /_url_/i;\n        const ISO_DATE_REGEX = /[0-9]{4}-[0-9]{2}-[0-9]{2}(T|\\s)[0-9]{2}:[0-9]{2}:[0-9]{2}\\.[0-9]{1,3}Z/;\n        const VALID_DATE_FORMAT_REGEX = /[0-9]{4}.[0-9]{2}.[0-9]{2}(.[0-9]{2})?(.[0-9]{2})?(.[0-9]{2})?(.[0-9]{1,3})?[zZ]?/;\n        const MESSAGE_HANDLERS = (function() {\n            if(window.webkit && window.webkit.messageHandlers && typeof window.webkit.messageHandlers === 'object') {\n                return window.webkit.messageHandlers;\n            } else {\n                return null;\n            }\n        })();\n\n        function genericQueryErrorHandler(deferred) {\n            return function(error) {\n                deferred.reject(error);\n            };\n        }\n\n        function isISODateFormat(inputString) {\n            return ISO_DATE_REGEX.test(inputString);\n        }\n\n        function isValidDateFormat(inputString) {\n            return VALID_DATE_FORMAT_REGEX.test(inputString);\n        }\n\n        function normalizeTimeDigits(digitInString) {\n            return digitInString ? parseInt(digitInString, 10) : 0;\n        }\n\n        function extractDateStringToNumbers(inputString) {\n            var parts = inputString.match(/(\\d+)/g);\n\n            return {\n                year: normalizeTimeDigits(parts[0]),\n                month: normalizeTimeDigits(parts[1]) - 1,\n                date: normalizeTimeDigits(parts[2]),\n                hours: normalizeTimeDigits(parts[3]),\n                minutes: normalizeTimeDigits(parts[4]),\n                seconds: normalizeTimeDigits(parts[5]),\n                ms: normalizeTimeDigits(parts[6])\n            };\n        }\n\n        function parseDate(input) {\n            var extractedDigits;\n\n            if (isISODateFormat(input)) {\n                return new Date(input);\n            }else {\n                extractedDigits = extractDateStringToNumbers(input);\n\n                return new Date(\n                    extractedDigits.year, extractedDigits.month, extractedDigits.date,\n                    extractedDigits.hours, extractedDigits.minutes, extractedDigits.seconds,\n                    extractedDigits.ms\n                );\n            }\n        }\n\n        function getCRMDate(dateString) {\n            var newDate;\n\n            if (isISODateFormat(dateString) || isValidDateFormat(dateString)) {\n                newDate = parseDate(dateString);\n            }\n\n            if (!newDate) {\n                console.warn('bad date: ', dateString, newDate);\n            }\n\n            return newDate;\n        }\n\n        function getResultSet(query) {\n            for (var k in query) {\n                if (query.hasOwnProperty(k) && k !== 'success' && k !== 'record_count' && k !== 'fieldLabels' && k !== 'object') {\n                    var object = query.object;\n                    var result = {\n                        data: query[k],\n                        object: object,\n                        name: k,\n                        fieldLabels: query.fieldLabels\n                    };\n                    var data = result.data;\n                    var urlTrimProtocolRE = /^(http|https):\\/\\//i;\n                    var urlTrimDubRE = /www\\./i;\n                    var fieldLabels = query.fieldLabels;\n\n                    result.object.name = k;\n\n                    for (var i = data.length; i--;) {\n                        for (var d in data[i]) {\n                            if (data[i].hasOwnProperty(d)) { // d is the key of the data point\n                                if (DATE_REGEX.test(d)) { // this is a date field\n                                    var tempDate = data[i][d];\n                                    var realDate = getCRMDate(tempDate);\n                                    if (realDate) {\n                                        data[i].date = data[i][d] = {\n                                            value: realDate,\n                                            display: [realDate.getFullYear(), (realDate.getMonth() + 1), realDate.getDate()].join('-'),\n                                            dataType: 'date'\n                                        };\n                                    }\n                                    else {\n                                        data[i].date = data[i][d] = {\n                                            value: tempDate,\n                                            display: tempDate,\n                                            dataType: 'date'\n                                        };\n                                    }\n                                }\n                                else if (URL_REGEX.test(d)) {\n                                    var tempUrl = data[i][d];\n                                    data[i][d] = {\n                                        value: tempUrl,\n                                        display: tempUrl && tempUrl.length ? ('<a href=\"' + tempUrl + '\" target=\"_blank\">' + tempUrl.replace(urlTrimProtocolRE, '').replace(urlTrimDubRE, '').slice(0, 12) + '\\u2026</a>') : null,\n                                        dataType: 'url'\n                                    };\n                                }\n                                else {\n                                    if (data[i][d] && data[i][d].value) {\n                                        var formattedData = {\n                                            value: data[i][d].value,\n                                            display: data[i][d].display,\n                                            dataType: 'string'\n                                        };\n\n                                        data[i][d] = formattedData;\n                                    }else {\n                                        data[i][d] = {\n                                            value: data[i][d],\n                                            display: data[i][d],\n                                            dataType: 'string'\n                                        };\n                                    }\n                                }\n                                data[i][d].label = getLabelFromLabels(d, fieldLabels);\n                            }\n                        }\n                    }\n                    return result;\n                }\n            }\n\n            function getLabelFromLabels(name, labels) {\n                var l = labels.length;\n                while (l--) {\n                    if (labels[l].name === name) {\n                        return labels[l].display;\n                    }\n                }\n            }\n        }\n\n        function runQueryHelper(queryConfig, deferred) {\n            var picklistsAvailable = queryConfig.picklists && queryConfig.picklists.length;\n\n            function finishQuery(results) {\n                deferred.resolve(getResultSet(results));\n                ds.checkQueryQueue();\n            }\n\n            function reportQueryError(e) {\n                deferred.reject(e);\n                ds.checkQueryQueue();\n            }\n\n            function getPicklists(resp) {\n                var deferred = Q.defer();\n                if (picklistsAvailable) {\n                    var thisPicklist = queryConfig.picklists.pop();\n                    var nextPicklist = function() {\n                        var deferredInner = Q.defer();\n                        ds\n                            .getPicklistValueLabels(queryConfig.object, thisPicklist)\n                            .then(function (picklistResp) {\n                                var thisPicklistsResp = picklistResp[queryConfig.object];\n                                // got the object containing picklist values for each picklist field\n                                for (var pk in thisPicklistsResp) { // loop over each of the piclist value lists\n                                    if (thisPicklistsResp.hasOwnProperty(pk)) {\n                                        var picklistName = pk; // the picklist name is also the name of the field in the record\n                                        var picklistValues = thisPicklistsResp[pk]; // this object has all the possible values for the picklist\n                                        for (var records = resp[queryConfig.object], r = records.length; r--;) {\n                                            var record = records[r];\n                                            if (record[picklistName] && (picklistValues[record[picklistName].value] || picklistValues[record[picklistName]])) {\n                                                if (record[picklistName].value) {\n                                                    record[picklistName].display = picklistValues[record[picklistName].value];\n                                                }\n                                                else if (picklistValues[record[picklistName]]) {\n                                                    var formattedRecord = {\n                                                        value: record[picklistName],\n                                                        display: picklistValues[record[picklistName]]\n                                                    };\n\n                                                    record[picklistName] = formattedRecord;\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                                deferredInner.resolve();\n                            }, function (e) {\n                                console.warn('picklist error', e);\n                            });\n                        return deferredInner.promise;\n                    };\n\n                    // TODO: Make this serial or recursive in some way or modify the queue to be lower level.\n                    nextPicklist().then(function () {\n                        thisPicklist = queryConfig.picklists.pop();\n                        if (thisPicklist) {\n                            nextPicklist().then(function () {\n                                thisPicklist = queryConfig.picklists.pop();\n                                if (thisPicklist) {\n                                    nextPicklist();\n                                }\n                                else {\n                                    deferred.resolve();\n                                }\n                            });\n                        }\n                        else {\n                            deferred.resolve();\n                        }\n                    });\n                }\n                else {\n                    deferred.resolve();\n                }\n                return deferred.promise;\n            }\n\n            // Get object label\n            var objectLabelDeferred = Q.defer();\n            ds.getObjectLabels([queryConfig.object]).then(function(resp) {\n                objectLabelDeferred.resolve(resp);\n            }, genericQueryErrorHandler(objectLabelDeferred));\n\n            // Get field label\n            var fieldLabelDeferred = Q.defer();\n            ds.getFieldLabels(queryConfig).then(function(resp) {\n                fieldLabelDeferred.resolve(resp);\n            }, genericQueryErrorHandler(fieldLabelDeferred));\n\n            // Query record\n            var queryRecordDeferred = Q.defer();\n            ds.queryRecord(queryConfig).then(function(resp) {\n                queryRecordDeferred.resolve(resp);\n            }, genericQueryErrorHandler(queryRecordDeferred));\n\n            // When everything is done\n            var allPromises = [objectLabelDeferred.promise, fieldLabelDeferred.promise, queryRecordDeferred.promise];\n            Q.all(allPromises).then(function(allResp) {\n                var objectLabelResp = allResp[0];\n                var fieldLabelResp = allResp[1];\n                var queryRecordResp = allResp[2];\n\n                var runQueryResp = veevaUtil.copyObject(queryRecordResp);\n                runQueryResp.object = objectLabelResp[queryConfig.object][0];\n                runQueryResp.fieldLabels = fieldLabelResp;\n\n                if(picklistsAvailable) {\n                    getPicklists(runQueryResp).then(function() {\n                        finishQuery(runQueryResp);\n                    }, reportQueryError);\n                } else {\n                    finishQuery(runQueryResp);\n                }\n            }, reportQueryError);\n        }\n\n        function constructRequest(command, object, fields, where, sort, limit) {\n            var request = [];\n            if (command && object) {\n                request.push('veeva:' + command + '(' + object + ')');\n                if (fields) {\n                    var fieldLabel = 'fields';\n                    if(command === 'getPicklistValueLabels') {\n                        fieldLabel = 'field';\n                    } else if(command === 'getDataForObjectV2') {\n                        fieldLabel = 'fieldName';\n                    }\n                    request.push(fieldLabel + '(' + fields + ')');\n                }\n                if (where) {\n                    request.push('where(where ' + where + ')');\n                }\n                if (sort) {\n                    request.push('sort(' + JSON.stringify(sort) + ')');\n                }\n                if (limit) {\n                    request.push('limit(' + limit + ')');\n                }\n\n            } else if(command && arguments.length === 1) {\n                // Case where no parameter is needed\n                request.push('veeva:' + command + '()');\n\n            } else {\n                console.error('constructRequest: invalid arguments', command, object, fields);\n            }\n            return request.join(',');\n        }\n\n        function sendLinkingRequest(command, configObject) {\n            var deferred = Q.defer();\n            var req = constructLinkingRequest(command, configObject);\n\n            query(req).then(function(resp) {\n                deferred.resolve(resp);\n            }, function(error) {\n                deferred.reject(error);\n            });\n\n            return deferred.promise;\n        }\n\n        function constructLinkingRequest(command, configObject) {\n            var request = [];\n            if(typeof command === 'string' && command.length && typeof configObject === 'object') {\n                request.push('veeva:' + command + '(' + configObject.object + ')');\n                request.push('fields(' + JSON.stringify(configObject.fields) + ')');\n            }\n            return request.join(',');\n        }\n\n        function constructSmartLinkingRequest(configObject) {\n            return \"veeva:smartLinking(\" + JSON.stringify(configObject) + \")\";\n        }\n\n        /**\n         * Register a callback function at the global scope\n         * @param deferred the deferred object to resolve when this callback function is invoked.\n         * @returns {string} the name of this callback function\n         */\n        function registerCallbackFunction(deferred) {\n            var uniqueCallbackName = 'com_veeva_queryRecordReturn' + (+new Date());\n            window[uniqueCallbackName] = function (resp) {\n                var result = resp;\n                var win8ParseError;\n\n                if (typeof result === 'string') {\n                    try {\n                        result = JSON.parse(result);\n                    }\n                    catch (e) {\n                        win8ParseError = veevaUtil.isWin8();\n                        console.warn('query result returned as non-parseable string', e, result);\n                    }\n                }\n                if(typeof win8ParseError === 'boolean' && win8ParseError){\n                    result = formatResult(result);\n                }\n                if ((typeof result === 'object' && result && result.success) || result === null) {\n                    deferred.resolve(wrapResult('query', formatResult(result)));\n                }\n                else {\n                    for (var a = arguments.length; a--;) {\n                        console.error('query failure arguments', arguments[a]);\n                    }\n                    var errorMessage = result.message || '';\n                    deferred.reject('Query failed: ' + errorMessage + ' ' + JSON.stringify(result));\n                }\n            };\n            return uniqueCallbackName;\n        }\n\n        function query(request) {\n            var deferred = Q.defer();\n            var callbackFunctionName = registerCallbackFunction(deferred);\n            request = request + ',' + callbackFunctionName + '(result)';\n            runAPIRequest(request);\n            return deferred.promise;\n        }\n\n        function formatResult(result) {\n            if (veevaUtil.isWin8()) {\n                if (typeof result === 'string') {\n                    result = eval('(' + result + ')');\n                }\n            }\n            return result;\n        }\n\n        function wrapResult(apiName, result) {\n            result = formatResult(result);\n            if (typeof result === 'object' && result && !result.success) {\n                result.message = apiName + ': ' + result.message;\n            }\n            return result;\n        }\n\n        function runAPIRequest(request) {\n            if (veevaUtil.isWin8()) {\n                window.external.notify(request);\n            } else {\n                //Remove the veeva: prefix, encode the remaining request, and add veeva: back.\n                //This works with a basic replace because we only run ONE request here.\n                request = request.replace(/^veeva:/, '');\n                request = encodeURIComponent(request);\n                request = 'veeva:' + request;\n\n                document.location = request;\n            }\n        }\n\n        function postMessageRequest(messageId, messageBody) {\n            let deferred = Q.defer();\n\n            if(MESSAGE_HANDLERS && MESSAGE_HANDLERS[messageId]) {\n                ds._MESSAGE_REGISTRY[messageId] = {\n                    resolve: deferred.resolve,\n                    reject: deferred.reject\n                };\n                if(messageBody && typeof messageBody === 'object') {\n                    messageBody.messageId = messageId;\n                } else {\n                    messageBody = { messageId: messageId };\n                }\n\n                MESSAGE_HANDLERS[messageId].postMessage(JSON.stringify(messageBody), '*');\n            } else {\n                deferred.reject(messageId + ' handler not found');\n            }\n\n            return deferred.promise;\n        }\n\n        /**\n         * Legacy queryRecord function.\n         * Although this function still works, it should only be called within the library.\n         */\n        function queryRecord(object, fields, where, sort, limit) {\n            var req = constructRequest('queryObject', object, fields, where, sort, limit);\n            return query(req);\n        }\n\n        /**\n         * Public facing functions\n         */\n\n        ds.queryRecord = function (queryObject) {\n            // Fallback method for legacy queryRecord\n            if(arguments.length > 1) {\n                return queryRecord.apply(ds, arguments);\n            }\n\n            var deferred = Q.defer();\n\n            if (ds.queryRunning) {\n                ds.queriesQueue.push({\n                    config: queryObject,\n                    deferred: deferred,\n                    type: 'queryRecord'\n                });\n            } else {\n                var req = constructRequest('queryObject', queryObject.object, queryObject.fields, queryObject.where, queryObject.sort, queryObject.limit);\n                ds.delegateQueryRequest(req, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        ds.runQuery = function (queryConfig) {\n            var deferred = Q.defer();\n\n            if (ds.queryRunning) {\n                ds.queriesQueue.push({\n                    config: queryConfig,\n                    deferred: deferred,\n                    type: typeof queryConfig === 'string' ? 'apiRequest' : 'runQuery'\n                });\n            } else {\n                runQueryHelper(queryConfig, deferred);\n            }\n            return deferred.promise;\n        };\n\n        ds.querySalesData = function(queryObject) {\n            var deferred = Q.defer();\n\n            if(ds.queryRunning) {\n                ds.queriesQueue.push({\n                    config: queryObject,\n                    deferred: deferred,\n                    type: 'querySalesData'\n                });\n            } else {\n                // we will use queryObject method from the platform to handle sales data for now\n                var req = constructRequest('queryObject', queryObject.object, queryObject.fields, queryObject.where, queryObject.sort, queryObject.limit);\n                ds.delegateQueryRequest(req, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        ds.joinQueries = function (q1, q2, keyForID, fieldsLabelsToExclude, primaryObjectName) {\n            var primaryQuery, secondaryQuery, joinTo, joinFrom;\n            var joins = {};\n            // get the primary query and secondary query\n            if (q1.object.name === primaryObjectName) {\n                primaryQuery = q1;\n                secondaryQuery = q2;\n            }\n            else {\n                primaryQuery = q2;\n                secondaryQuery = q1;\n            }\n            // figure out which has the key on which to join the queries\n            for (var k in q1.data[0]) {\n                if (k === keyForID) {\n                    joinTo = q1;\n                    joinFrom = q2;\n                    break;\n                }\n            }\n            if (!joinTo) {\n                joinTo = q2;\n                joinFrom = q1;\n            }\n            // Set up a dictonary with references to each result on which to join\n            for (var d = joinFrom.data.length; d--;) {\n                joins[joinFrom.data[d].ID.value] = joinFrom.data[d];\n            }\n            // rename the fields on the secondary result set to reflect their unique relationship to the original results\n            for (d = secondaryQuery.data.length; d--;) {\n                for (k in secondaryQuery.data[d]) {\n                    if (secondaryQuery.data[d].hasOwnProperty(k) && k !== 'date') {\n                        var propertyToMove = secondaryQuery.data[d][k];\n                        secondaryQuery.data[d][secondaryQuery.object.name + '.' + k] = propertyToMove;\n                        delete(secondaryQuery.data[d][k]);\n                    }\n                }\n            }\n            // merge each record with its respective matching record\n            // figure out if we need to append the object name to the keyForID in the case where the joinTo === secondaryQuery\n            if (joinTo.object.name === secondaryQuery.object.name) {\n                keyForID = joinTo.object.name + '.' + keyForID;\n            }\n            for (d = joinTo.data.length; d--;) {\n                // merge joinTo[d] with joins[joinTo[d][keyForID]]\n                veevaUtil.mergeObjects(joinTo.data[d], joins[joinTo.data[d][keyForID].value]); // does the key for ID include the object name or not. it will if joinTo === secondaryQuery;\n            }\n\n            // begin label renaming and combining\n            var deleteExcludedLabels = function (labels) {\n                    for (var k in fieldsLabelsToExclude) {\n                        for (var n = labels.length; n--;) {\n                            if (labels[n].name === k) {\n                                labels.splice(n, 1);\n                            }\n                        }\n                    }\n                    return labels;\n                },\n                primaryLabels = deleteExcludedLabels(primaryQuery.fieldLabels),\n                secondaryLabels = deleteExcludedLabels(secondaryQuery.fieldLabels);\n            // rename labels in q2\n            for (var l = secondaryLabels.length, label; l--;) {\n                label = secondaryLabels[l];\n                label.name = secondaryQuery.object.name + '.' + label.name;\n            }\n            joinTo.fieldLabels = primaryLabels.concat(secondaryLabels);\n            joinTo.object = primaryQuery.object;\n            joinTo.name = primaryQuery.name;\n            return joinTo;\n        };\n\n        ds.getInStatement = function (ids) {\n            var online = veevaUtil.isOnline();\n            var statmentEnd = online ? ')' : '}';\n            var statementBegin = online ? '(' : '{';\n            return statementBegin + '\\'' + ids.join('\\',\\'') + '\\'' + statmentEnd;\n        };\n\n        /*\n         Returns the value of a field for a specific record related to the current object\n         */\n        ds.getDataForCurrentObject = function (object, field) {\n            console.log('getDataForCurrentObject',Q)\n            var deferred = Q.defer();\n\n            if(ds.queryRunning) {\n                ds.queriesQueue.push({\n                    object: object,\n                    field: field,\n                    deferred: deferred,\n                    type: 'getDataForCurrentObject'\n                });\n            } else {\n                var req = constructRequest('getDataForObjectV2', object, field);\n                ds.delegateQueryRequest(req, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        ds.getObjectLabels = function (objects) {\n            var deferred = Q.defer();\n\n            if(ds.queryRunning) {\n                ds.queriesQueue.push({\n                    config: objects,\n                    deferred: deferred,\n                    type: 'getObjectLabels'\n                });\n            } else {\n                var req = constructRequest('getObjectLabels', JSON.stringify(objects));\n                ds.delegateQueryRequest(req, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        ds.getFieldLabels = function (queryConfig) {\n            var deferred = Q.defer();\n            var object = queryConfig.object;\n            var fields = queryConfig.fields;\n\n            var respHandler = function(resp, deferred) {\n                var i = fields.length;\n                var labels = resp[object];\n                var newLabels = [];\n                while (i--) {\n                    newLabels.unshift({\n                        name: fields[i],\n                        display: labels[fields[i]]\n                    });\n                }\n                deferred.resolve(newLabels);\n            };\n\n            if(ds.queryRunning) {\n                ds.queriesQueue.push({\n                    config: queryConfig,\n                    deferred: deferred,\n                    type: 'getFieldLabels'\n                });\n            } else {\n                var req = constructRequest('getFieldLabel', object, JSON.stringify(fields));\n                ds.delegateQueryRequest(req, deferred, respHandler);\n            }\n\n            return deferred.promise;\n        };\n\n        /*\n         Returns the translated label for each of the picklist values of the specified field\n\n         object - API Name of the object\n         field - API Name of the picklist field\n         */\n        ds.getPicklistValueLabels = function (object, field) {\n            var deferred = Q.defer();\n\n            if(ds.queryRunning) {\n                ds.queriesQueue.push({\n                    object: object,\n                    field: field,\n                    deferred: deferred,\n                    type: 'getPicklistValueLabels'\n                });\n            } else {\n                var req = constructRequest('getPicklistValueLabels', object, field);\n                ds.delegateQueryRequest(req, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        ds.getVeevaMessagesWithDefault = function (tokens, languageLocaleKey) {\n            var deferred = Q.defer();\n            var config = veevaUtil.copyObject(queries.translations);\n            var whereSubClauses = [];\n            var index = tokens.length;\n            var cachedResponses = [];\n            var cache = {};\n            while (index--) {\n                if (!cache[tokens[index].msgName + ':' + tokens[index].msgCategory]) {\n                    whereSubClauses.push(\"(Name='\" + tokens[index].msgName + \"' AND Category_vod__c='\" + tokens[index].msgCategory + \"')\");\n                }\n                else {\n                    cachedResponses.push(cache[tokens[index].msgName + ':' + tokens[index].msgCategory]);\n                }\n            }\n            config.where += \"(\" + whereSubClauses.join(\" OR \") + \")\" + \" AND Language_vod__c='\" + languageLocaleKey + \"'\";\n            // if all the responses were in the cache, then this will be empty and we just return the cached responses.\n            if (whereSubClauses.length) {\n                ds.runQuery(config)\n                    .then(function (resp) {\n                        var data = resp.data;\n                        var d = data.length;\n                        deferred.resolve(data.concat(cachedResponses));\n                        while (d--) {\n                            if (!cache[data[d].Name.value + ':' + data[d].Category_vod__c.value]) {\n                                cache[data[d].Name.value + ':' + data[d].Category_vod__c.value] = data[d];\n                            }\n                        }\n                    });\n            }\n            else {\n                deferred.resolve(cachedResponses);\n            }\n            return deferred.promise;\n        };\n\n        ds.delegateQueryRequest = function(request, deferred, respHandler) {\n            ds.queryRunning = true;\n            query(request).then(function(resp) {\n                /**\n                 * If the optional callback function is given,\n                 * let the callback function resolve the promise instead\n                 */\n                if(typeof respHandler === 'function') {\n                    respHandler(resp, deferred);\n                } else {\n                    deferred.resolve(resp);\n                }\n                ds.queryRunning = false;\n                ds.checkQueryQueue();\n            }, function(error) {\n                deferred.reject(error);\n                ds.queryRunning = false;\n                ds.checkQueryQueue();\n            });\n        };\n\n        ds.checkQueryQueue = function() {\n            if (ds.queriesQueue.length && !ds.queryRunning) {\n                var next = ds.queriesQueue.shift();\n                if (next.type === 'apiRequest') {\n                    ds.queryRunning = true;\n                    query(next.config).then(function (resp) {\n                        next.deferred.resolve(resp);\n                        ds.queryRunning = false;\n                        ds.checkQueryQueue();\n                    });\n                } else if (next.type === 'runQuery') {\n                    runQueryHelper(next.config, next.deferred);\n                } else if(next.type === 'queryRecord' || next.type === 'queryRecord_ol') {\n                    ds.queryRecord(next.config).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if(next.type === 'querySalesData' || next.type === 'querySalesData_ol') {\n                    ds.querySalesData(next.config).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if(next.type === 'getAvailableObjects' || next.type === 'getAvailableObjects_ol') {\n                    ds.getAvailableObjects().then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if(next.type === 'getObjectMetadata' || next.type === 'getObjectMetadata_ol') {\n                    ds.getObjectMetadata(next.config).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if(next.type === 'getRecordTypeLabels' || next.type === 'getRecordTypeLabels_ol') {\n                    ds.getRecordTypeLabels(next.config).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if (next.type === 'getFieldLabels' || next.type === 'getFieldLabels_ol') {\n                    ds.getFieldLabels(next.config).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if (next.type === 'getObjectLabels' || next.type === 'getObjectLabels_ol') {\n                    ds.getObjectLabels(next.config).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if (next.type === 'getPicklistValueLabels' || next.type === 'getPicklistValueLabels_ol') {\n                    ds.getPicklistValueLabels(next.object, next.field).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if (next.type === 'getDataForCurrentObject' || next.type === 'getDataForCurrentObject_ol') {\n                    ds.getDataForCurrentObject(next.object, next.field).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if (next.type === 'smartLinking' || next.type === 'smartLinking_ol') {\n                    ds.smartLinking(next.config).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else if (next.type === 'queryVDSRecord') {\n                    ds.queryVDSRecord(next.config).then(function(resp) {\n                        next.deferred.resolve(resp);\n                    }, genericQueryErrorHandler(next.deferred));\n                } else {\n                    if(typeof ds.customQueryQueueHandler === 'function') {\n                        ds.customQueryQueueHandler(next);\n                    } else {\n                        console.error('Unknown queue event');\n                    }\n                }\n            }\n        };\n\n        ds.newRecord = function(configObject) {\n            return sendLinkingRequest('newRecord', configObject);\n        };\n\n        ds.viewRecord = function(configObject) {\n            return sendLinkingRequest('viewRecord', configObject);\n        };\n\n        ds._MESSAGE_REGISTRY = {};\n\n        function doPostMessage(messageBody) {\n            var deferred = Q.defer();\n            var messageId = ++ds.messageId;\n\n            ds._MESSAGE_REGISTRY[messageId] = {\n                resolve: deferred.resolve,\n                reject: deferred.reject\n            };\n            if(messageBody && typeof messageBody === 'object') {\n                messageBody.messageId = messageId;\n            } else {\n                messageBody = { messageId: messageId };\n            }\n\n            if (veevaUtil.isWin8() && veevaUtil.isWindowsMobile()) {\n                window.external.notify(JSON.stringify(messageBody));\n            } else if (veevaUtil.isOnline()) {\n                window.parent.postMessage(JSON.stringify(messageBody), '*');\n            } else {\n                window.webkit.messageHandlers.myInsightsAPI.postMessage(JSON.stringify(messageBody));\n            }\n\n            return deferred.promise;\n        }\n\n        function parseArrayForMultiPicklist(config) {\n            var configClone = JSON.parse(JSON.stringify(config));\n            var fields = configClone.fields;\n            var keys = Object.keys(fields);\n            keys.forEach(function(key) {\n                if (Array.isArray(fields[key])) {\n                    fields[key] = fields[key].join(';');\n                }\n            });\n\n            return configClone;\n        }\n\n        ds.createRecord = function(config) {\n            var deferred = Q.defer();\n\n            if (config && config.object) {\n                config.command = 'createRecord';\n                config.fields = config.fields ? config.fields : {};\n\n                return doPostMessage(parseArrayForMultiPicklist(config));\n            } else {\n                deferred.reject({\n                    code: 0,\n                    success: false,\n                    message: 'createRecord called with invalid configuration: ' + JSON.stringify(config)\n                });\n            }\n\n            return deferred.promise;\n        };\n\n        ds.updateRecord = function(config) {\n            var deferred = Q.defer();\n\n            if (config && config.object) {\n                config.command = 'updateRecord';\n                config.fields = config.fields ? config.fields : {};\n\n                return doPostMessage(parseArrayForMultiPicklist(config));\n            } else {\n                deferred.reject({\n                    code: 0,\n                    success: false,\n                    message: 'updateRecord called with invalid configuration: ' + JSON.stringify(config)\n                });\n            }\n\n            return deferred.promise;\n        };\n\n        ds.smartLinking = function(configObject) {\n            var deferred = Q.defer();\n\n            if(ds.queryRunning) {\n                ds.queriesQueue.push({\n                    config: configObject,\n                    deferred: deferred,\n                    type: 'smartLinking'\n                });\n            } else {\n                var req = constructSmartLinkingRequest(configObject);\n                ds.delegateQueryRequest(req, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        ds.executeSuggestionAction = function(suggestionId, actionType) {\n            return ds.smartLinking({\n                object: \"Suggestion_vod__c\",\n                action: actionType ? actionType : 'execute',\n                options: {\n                    record: {\n                        Id: suggestionId\n                    }\n                }\n            });\n        };\n\n        ds.launchMediaForAccount = function(accountId, presentationId, keyMessageMediaFileName) {\n            var linkingOptions = {\n                prefill: {\n                    Call2_vod__c: {\n                        Account_vod__c: accountId ? accountId : ''\n                    }\n                }\n            };\n\n            // presentation id and key message file name are optional, but need to pass together\n            if(presentationId && keyMessageMediaFileName) {\n                linkingOptions.record = {\n                    Presentation_Id_vod__c: presentationId,\n                    Key_Message_vod__c: {\n                        Media_File_Name_vod__c: keyMessageMediaFileName\n                    }\n                };\n            }\n\n            return ds.smartLinking({\n                object: \"Clm_Presentation_vod__c\",\n                action: \"launch\",\n                options: linkingOptions\n            });\n        };\n\n        ds.getAvailableObjects = function() {\n            var deferred = Q.defer();\n\n            if(ds.queryRunning) {\n                ds.queriesQueue.push({\n                    config: {},\n                    deferred: deferred,\n                    type: 'getAvailableObjects'\n                });\n            } else {\n                var req = constructRequest('getAvailableObjects');\n                ds.delegateQueryRequest(req, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        ds.getObjectMetadata = function(queryObject) {\n            var deferred = Q.defer();\n\n            if(queryObject && queryObject.object) {\n                if (ds.queryRunning) {\n                    ds.queriesQueue.push({\n                        config: queryObject,\n                        deferred: deferred,\n                        type: 'getObjectMetadata'\n                    });\n                } else {\n                    var req = constructRequest('getObjectMetadata', queryObject.object);\n                    ds.delegateQueryRequest(req, deferred);\n                }\n            } else {\n                deferred.reject(\"'getObjectMetadata' was called with invalid parameter: \" + queryObject);\n            }\n\n            return deferred.promise;\n        };\n\n        ds.getRecordTypeLabels = function(objectName) {\n            var deferred = Q.defer();\n\n            if(ds.queryRunning) {\n                ds.queriesQueue.push({\n                    config: objectName,\n                    deferred: deferred,\n                    type: 'getRecordTypeLabels'\n                });\n            } else {\n                var req = constructRequest('getRecordTypeLabels', objectName);\n                ds.delegateQueryRequest(req, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        ds.getCurrentPosition = function() {\n            return doPostMessage({command: 'getCurrentPosition'});\n        };\n\n        /**\n         * Global listener for message callback event\n         * This mechanism is not yet supported by Online.\n         */\n        if(!veevaUtil.isOnline()) {\n            window.addEventListener('message', function(event) {\n                if(event) {\n                    let data = {};\n                    if(typeof event === 'object') {\n                        if (veevaUtil.isWin8() && typeof event.data === 'string') {\n                            data = JSON.parse(event.data);\n                        } else {\n                            data = event.data;\n                        }\n                    } else if(typeof event === 'string') {\n                        try {\n                            data = (JSON.parse(event)).data;\n                        } catch(error) {\n                            console.error('Fail to parse response: ' + error);\n                        }\n                    }\n\n                    const messageId = data.messageId;\n                    if(ds._MESSAGE_REGISTRY[messageId]) {\n                        const promise = ds._MESSAGE_REGISTRY[messageId];\n                        if(data.success) {\n                            promise.resolve(data);\n                        } else {\n                            promise.reject(data);\n                        }\n                        delete ds._MESSAGE_REGISTRY[messageId];\n                    } else {\n                        console.warn('Promise not found in registry');\n                    }\n                }\n            });\n        }\n\n        /*\n        * CDW Query Record\n        *\n        * */\n        ds.queryVDSRecord = function(configObject) {\n            var deferred = Q.defer();\n            var request;\n\n            if (ds.queryRunning) {\n                ds.queriesQueue.push(\n                    {\n                        config: configObject,\n                        deferred: deferred,\n                        type: 'queryVDSRecord'\n                    }\n                );\n            } else {\n                request = constructRequest('queryVDSRecord', configObject.object, configObject.fields, configObject.where, configObject.sort, configObject.limit);\n                ds.delegateQueryRequest(request, deferred);\n            }\n\n            return deferred.promise;\n        };\n\n        // switch in here for the different overrides?\n        if (veevaUtil.isOnline()) {\n            window.OnlineAPI.call(ds);\n        }\n    };\n\n    window.ds = new DataService();\n})(window.Q);","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-main\"}},[(_vm.isLoading)?_c('Spinner'):_c('home')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"demo-only\",staticStyle:{\"height\":\"6rem\"}},[_c('div',{staticClass:\"slds-spinner_container\"},[_c('div',{staticClass:\"slds-spinner slds-spinner_medium slds-spinner_brand\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"slds-assistive-text\"},[_vm._v(\"Loading\")]),_c('div',{staticClass:\"slds-spinner__dot-a\"}),_c('div',{staticClass:\"slds-spinner__dot-b\"})])])])])}]\n\nexport { render, staticRenderFns }","<template>\n<div>\n <div class=\"demo-only\" style=\"height:6rem\">\n    <div class=\"slds-spinner_container\">\n        <div role=\"status\" class=\"slds-spinner slds-spinner_medium slds-spinner_brand\">\n        <span class=\"slds-assistive-text\">Loading</span>\n        <div class=\"slds-spinner__dot-a\"></div>\n        <div class=\"slds-spinner__dot-b\"></div>\n        </div>\n    </div>\n</div>\n</div>\n</template>\n\n<script>\n    export default {\n        name: 'loading-spinner'\n    }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=2ad8d396&\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js&\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.mainPage && !_vm.myFocusAccountTable && !_vm.myUnsubmittedCallsTable)?_c('section',[_c('b-card-group',{staticStyle:{\"padding\":\"20px\",\"height\":\"400px\"},attrs:{\"deck\":\"\"}},[_c('b-card',{staticClass:\"text-center\",attrs:{\"bg-variant\":\"info\",\"text-variant\":\"white\",\"header\":\"My Focus Accounts\"},on:{\"click\":function($event){return _vm.changeView('focusAccounts')}}},[_c('b-card-text',[_c('p',{staticStyle:{\"line-height\":\"225px\"},attrs:{\"id\":\"nbr\"}},[_vm._v(\" \"+_vm._s(_vm.myFocusAccounts.items.length)+\" \")]),(_vm.isMyFocusAvailable == false)?_c('p',[_vm._v(\" No focus accounts \")]):_vm._e()])],1),_c('b-card',{staticClass:\"text-center\",attrs:{\"header\":\"My Unsubmitted Calls\"},on:{\"click\":function($event){return _vm.changeView('callsTable')}}},[_c('b-card-text',[_c('p',{staticStyle:{\"line-height\":\"225px\"},attrs:{\"id\":\"nbr2\"}},[_vm._v(\" \"+_vm._s(_vm.myUnsubmittedCall.items.length)+\" \")])])],1)],1)],1):(_vm.mainPage == false && _vm.myFocusAccountTable == true)?_c('section',[_c('div',{staticClass:\"scructure-table\"},[_c('div',{staticClass:\"section-container cell \",staticStyle:{\"width\":\"1200px\"}},[_c('strong',{staticClass:\"title-text\",staticStyle:{\"padding\":\"10px\"},on:{\"click\":function($event){return _vm.changeView()}}},[_c('img',{staticClass:\"rotate-img\",attrs:{\"src\":require('../assets/images/arrow_icon.svg')}}),_vm._v(\"  My focus accounts and calls\")]),_c('v-section',[_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('div',{attrs:{\"data-app\":\"\"}},[_c('v-data-table',{staticClass:\"elevation-1\",staticStyle:{\"padding\":\"40px\"},attrs:{\"items\":_vm.focusAccountsData,\"headers\":_vm.tableHeadersAccounts,\"items-per-page\":5,\"search\":_vm.search,\"item-key\":\"name\",\"height\":\"400\",\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(row){return [_c('tr',{on:{\"click\":function($event){return _vm.smartLink('Account',row.item.Id)}}},[_c('td',{staticStyle:{\"width\":\"50%\"}},[_vm._v(\" \"+_vm._s(row.item.Name)+\" \")]),(row.item.calls)?_c('td',[_vm._v(_vm._s(row.item.calls.length))]):_vm._e()])]}}])})],1)],1),_c('v-section')],1)],1)])]):(_vm.mainPage == false && _vm.myUnsubmittedCallsTable == true)?_c('section',[_c('div',{staticClass:\"scructure-table\",staticStyle:{\"padding\":\"10px\"}},[_c('div',{staticClass:\"section-container cell \",staticStyle:{\"width\":\"1200px\"}},[_c('strong',{staticClass:\"title-text\",staticStyle:{\"padding\":\"10px\"},on:{\"click\":function($event){return _vm.changeView()}}},[_c('img',{staticClass:\"rotate-img\",attrs:{\"src\":require('../assets/images/arrow_icon.svg')}}),_vm._v(\"  My unsubmitted calls\")]),_c('v-section',[_c('div',{staticStyle:{\"width\":\"95%\",\"padding\":\"10px\"}},[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('div',{attrs:{\"data-app\":\"\"}},[_c('v-data-table',{staticClass:\"elevation-1\",staticStyle:{\"padding\":\"10px\"},attrs:{\"items\":_vm.myUnsubmittedCallsData,\"headers\":_vm.tableHeadersCalls,\"items-per-page\":5,\"search\":_vm.search,\"item-key\":\"name\",\"height\":\"400\",\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(row){return [_c('tr',{on:{\"click\":function($event){return _vm.smartLink('Call2_vod__c',row.item.Id)}}},[_c('td',[_vm._v(\" \"+_vm._s(row.item.Name)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(row.item.Id)+\" \")]),_c('td',[_vm._v(_vm._s(Math.abs(Math.ceil( Math.abs(new Date(row.item.Call_Date_vod__c))/ (1000 * 60 * 60 * 24))- Math.ceil( Math.abs(_vm.today)/ (1000 * 60 * 60 * 24))))+\" days\")]),_c('td',[_vm._v(_vm._s(row.item.accountName))])])]}}])})],1)],1),_c('v-section')],1)],1)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\nimport '../../assets/js/q';\nimport '../../assets/js/myinsights_lib';\n// import * as util from '../../helper/util';\n  // eslint-disable-next-line no-prototype-builtins\n    // eslint-disable-next-line no-unused-vars\n\n// promise global variable\nconst $q = window.Q;\nvar utils = new window.VeevaUtilities();\nvar isOnline = utils.isOnline();\nconsole.log('isOnline', isOnline)\n// data service global variable\nconst ds =  window.ds;\n\nexport const getFieldLabels = (config)=> {\n  return ds.getFieldLabels(config);\n}\n\nexport const getCurrent = (objectName, fieldName)=> {\n    return ds.getDataForCurrentObject(objectName, fieldName);\n  }\n\n  export const getAvailableFields = (sObject) => {\n    const queryConfig = {\n        params: {\n            object: sObject\n        }\n    };\n    const deferred = $q.defer();\n    ds.getObjectMetadata(queryConfig.params).then(result => {\n        // console.log('getObjectMetadata', result)\n        deferred.resolve(result.data);\n    }, err => {\n        console.log(err);\n        deferred.resolve(null);\n    });\n    return deferred.promise;\n};\n\n \n\nexport const getFocusAccounts = ()=>{\n  const queryConfig = {\n    params: {\n        object: 'TSF_vod__c',\n        fields: ['Account_vod__c','My_Focus_gild__c', 'Id'],\n        where: 'My_Focus_gild__c = true'    \n    }\n};\nconst deferred = $q.defer();\nds.runQuery(queryConfig.params).then(result => {\n    console.log('getFocusAccounts', result)\n    deferred.resolve(result)\n}, err => {\n    console.log(err, err.message);\n    deferred.resolve(null);\n});\nreturn deferred.promise;\n}\n\n\nexport const getAccounts = (accountIds)=>{ //will this report be used my other type of users? Managers etc?\n  let whereStatement;\n  if(accountIds){\n    whereStatement = 'Id IN ' + ds.getInStatement(accountIds)\n  } else {\n    whereStatement = ''\n  }\n  const queryConfig = {\n    params: {\n        object: 'Account',\n        fields: ['Name', 'Id'],\n        where: whereStatement//'Id IN ' + ds.getInStatement(accountIds)    \n    }\n};\nconst deferred = $q.defer();\nds.runQuery(queryConfig.params).then(result => {\n    console.log('getAccounts', result)\n    deferred.resolve(result)\n}, err => {\n    console.log(err, err.message);\n    deferred.resolve(null);\n});\nreturn deferred.promise;\n}\n\nexport const getCalls = (currentUserId, accountIds)=>{\n  console.log('currentUserId',currentUserId)\n  let whereStatement;\n  if(accountIds){\n    whereStatement = 'CreatedById = \\''  + currentUserId + '\\' AND Account_vod__c IN ' + ds.getInStatement(accountIds)\n  } else {\n    whereStatement = 'CreatedById = \\''  + currentUserId + '\\''\n  }\n  const queryConfig = {\n    params: {\n        object: 'Call2_vod__c',\n        fields: ['Name', 'Status_vod__c', 'Id', \n        'Call_Date_vod__c', 'CreatedById', 'CreatedDate', 'Account_vod__c'],\n        where: whereStatement //'CreatedById = \\''  + currentUserId + '\\''\n    }\n};\nconst deferred = $q.defer();\nds.runQuery(queryConfig.params).then(result => {\n    console.log('getCalls', result)\n    deferred.resolve(result)\n}, err => {\n    console.log(err, err.message);\n    deferred.resolve(null);\n});\nreturn deferred.promise;\n}\n\nexport const viewRecord = (sObject, recordId) => {\n  console.log('I am called', sObject, recordId)\n  const deferred = $q.defer();\n  const smartLink = {\n      object: sObject,\n      fields: { Id: recordId }\n  };\n  ds.viewRecord(smartLink).then(resp => {}, err => {\n      console.log(err);\n  }).catch( err => {\n      console.log(err);\n  });\n  return deferred.promise;\n}\n\n\n\n// get veeva messages\n// export const getVeevaMessage = (language) => {\n//   let veevaMessageList = ['COMPENSATION_NOT_OK','PRODUCTS','TOTAL','ORDERED','ALL',\n//   'DIFFERENT_ENTITIES','COMPENSATION_WITH_QUANTITY','COMPENSATION_OK']\n//   let categoryList = ['Common','InventoryOrder']\n  \n//   console.log('language', language) \n\n//   let whereOffLine =  'Language_vod__c = \\'' + language + '\\'' +\n//   ' AND Category_vod__c IN (' + util.getInStatementArray(categoryList) + ')' +\n//   ' AND Name IN (' + util.getInStatementArray(veevaMessageList) + ')'\n\n//   let whereOnline =  'Language_vod__c = \\'' + language + '\\'' + \n//   ' AND Category_vod__c IN ' + ds.getInStatement(categoryList) +\n//   ' AND Name IN ' + ds.getInStatement(veevaMessageList)  \n                                                                   \n\n//   const queryConfig = {\n//       params: {\n//           object: 'Message_vod__c',\n//           fields: ['Name', 'Text_vod__c','Category_vod__c'],\n//           where: isOnline ? whereOnline : whereOffLine          \n//       }\n//   };\n//   const deferred = $q.defer();\n//   ds.queryRecord(queryConfig.params).then(result => {\n//       console.log('getVeevaMessages', result)\n//       deferred.resolve(util.arrayToObject(result.Message_vod__c, 'Name', 'Text_vod__c'));\n//   }, err => {\n//       console.log(err, err.message);\n//       deferred.resolve(null);\n//   });\n//   return deferred.promise;\n// };\n","<template>\n    <div>\n        <section v-if=\"mainPage && !myFocusAccountTable && !myUnsubmittedCallsTable\">\n            <b-card-group deck style=\"padding: 20px; height:400px\">\n                <b-card @click=\"changeView('focusAccounts')\" bg-variant=\"info\" text-variant=\"white\" header=\"My Focus Accounts\" class=\"text-center\" >\n                    <b-card-text>\n                         <p id=\"nbr\" style=\"line-height: 225px;\">\n                            {{myFocusAccounts.items.length}}\n                         </p>\n                         <p v-if=\"isMyFocusAvailable == false\">\n                             No focus accounts\n                         </p>\n                        </b-card-text>\n                </b-card>\n                <b-card @click=\"changeView('callsTable')\" header=\"My Unsubmitted Calls\" class=\"text-center\" >\n                    <b-card-text>\n                        <p id=\"nbr2\" style=\"line-height: 225px;\">\n                        {{myUnsubmittedCall.items.length}}\n                        </p>\n                        </b-card-text>\n                </b-card>\n            </b-card-group>\n        </section>\n        <section v-else-if=\"mainPage == false && myFocusAccountTable == true\">\n            <div  class=\"scructure-table\">\n                \n                <div style=\"width:1200px;\" class=\"section-container cell \">\n                    <strong @click=\"changeView()\" class=\"title-text\" style=\"padding: 10px;\"> \n                        <img :src=\"require('../assets/images/arrow_icon.svg')\" class=\"rotate-img\"/>&nbsp;\n                        My focus accounts and calls</strong>\n                    <v-section>\n                            <div style=\" padding: 10px;\">\n                                <v-text-field\n                                    v-model=\"search\"\n                                    append-icon=\"mdi-magnify\"\n                                    label= 'search'\n                                    single-line\n                                    hide-details>\n                                </v-text-field>\n                                <div data-app >\n                                    <v-data-table\n                                        :items=\"focusAccountsData\"\n                                        :headers=\"tableHeadersAccounts\" \n                                        :items-per-page=\"5\"\n                                        :search=\"search\"\n                                        item-key=\"name\"\n                                        class=\"elevation-1\"\n                                        height=\"400\"\n                                        fixed-header\n                                        style=\"padding: 40px;\"\n                                        >\n                                        \n                                        <template v-slot:item=\"row\">\n                                            <tr @click=\"smartLink('Account',row.item.Id)\">\n                                                <td  style=\"width: 50%;\" >\n                                                    <!-- <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 4%; box-shadow:0 2px 3px 0 black;\"> -->\n                                                        {{row.item.Name}}  \n                                                    <!-- </button> -->\n                                                </td>\n                                                <td v-if=\"row.item.calls\">{{row.item.calls.length}}</td>\n                                                \n                                            </tr>\n                                        </template>\n                                    \n                                    </v-data-table>\n                                </div>\n                            </div>\n                    <v-section>\n                </div>\n            </div>\n        </section>\n        <section v-else-if=\"mainPage == false && myUnsubmittedCallsTable == true\">\n            <div class=\"scructure-table\" style=\"padding: 10px;\">\n                \n                <div style=\"width:1200px;\" class=\"section-container cell \">\n                    <strong @click=\"changeView()\" class=\"title-text\" style=\"padding: 10px;\">\n                        <img :src=\"require('../assets/images/arrow_icon.svg')\" class=\"rotate-img\"/>&nbsp;\n                        My unsubmitted calls</strong>\n                    <!-- Call name i.e. call ID in one column & days unsubmitted for each call in another column -->\n                    <v-section>\n                            <div  style=\"width: 95%; padding: 10px;\">\n                                <v-text-field\n                                    v-model=\"search\"\n                                    append-icon=\"mdi-magnify\"\n                                    label= 'search'\n                                    single-line\n                                    hide-details>\n                                </v-text-field>\n                                <div data-app >\n                                    <v-data-table\n                                        :items=\"myUnsubmittedCallsData\"\n                                        :headers=\"tableHeadersCalls\" \n                                        :items-per-page=\"5\"\n                                        :search=\"search\"\n                                        item-key=\"name\"\n                                        class=\"elevation-1\"\n                                        height=\"400\"\n                                        fixed-header\n                                        style=\"padding: 10px;\"\n                                        >\n                                        \n                                        <template v-slot:item=\"row\">\n                                            <tr @click=\"smartLink('Call2_vod__c',row.item.Id)\">\n                                                <td>\n                                                    <!-- <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" style=\"border-radius: 4%; box-shadow:0 2px 3px 0 black;\"> -->\n                                                        {{row.item.Name}}  \n                                                    <!-- </button> -->\n                                                </td>\n                                               <td>\n                                                   {{row.item.Id}}\n                                                </td>\n                                                <td>{{Math.abs(Math.ceil( Math.abs(new Date(row.item.Call_Date_vod__c))/ (1000 * 60 * 60 * 24))- Math.ceil( Math.abs(today)/ (1000 * 60 * 60 * 24))) }} days</td>\n                                               \n                                                <td>{{row.item.accountName}}</td>\n                                            </tr>\n                                        </template>\n                                    \n                                    </v-data-table>\n                                </div>\n                            </div>\n                    <v-section>\n                </div>\n            </div>\n        </section>\n\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport { viewRecord } from '../data/myinsights/query';\nimport 'vuetify/dist/vuetify.min.css'\nexport default {\n    mounted() {\n        this.today = new Date()\n        this.focusAccountsData = this.myFocusAccounts.items\n        this.tableHeadersAccounts = this.myFocusAccounts.headers\n         this.tableHeadersCalls = this.myUnsubmittedCall.headers\n         this.myUnsubmittedCallsData = this.myUnsubmittedCall.items\n       console.log('mounted',this.myFocusAccounts, this.myUnsubmittedCall, this.isMyFocusAvailable)\n       this.incEltNbr('nbr',this.myFocusAccounts.items.length)\n    //    this.incEltNbr('nbr2',233)//testing large numbers\n       this.incEltNbr('nbr2',this.myUnsubmittedCall.items.length)\n    },\n    computed: {\n        ...mapGetters([\n           'myFocusAccounts',\n           'myUnsubmittedCall',\n           'isMyFocusAvailable'\n          \n        ])},\n    data(){\n       return {\n           today: null,\n           filteredTable:[],\n           focusAccountsData:[],\n           tableHeadersAccounts:[],\n           tableHeadersCalls:[],\n           myUnsubmittedCallsData:[],\n           search:'',\n           mainPage:true,\n           myFocusAccountTable:false,\n           myUnsubmittedCallsTable: false,\n        }\n    },\n    methods:{\n         smartLink: viewRecord,\n        changeView(pageName){\n            if(pageName && pageName == 'focusAccounts'){\n                console.log('wtf1', this.mainPage)\n                this.mainPage = !this.mainPage\n                this.myFocusAccountTable = true\n            } else if(pageName && pageName == 'callsTable'){\n                 console.log('wtf2', this.mainPage)\n                this.myUnsubmittedCallsTable = true\n                 this.mainPage = !this.mainPage\n            } else if(!pageName){\n                 console.log('wtf3', this.mainPage)\n                this.mainPage = !this.mainPage\n                this.myFocusAccountTable = false\n                this.myUnsubmittedCallsTable = false\n\n            }\n            console.log('changeView', pageName, this.mainPage, this.myFocusAccountTable, this.myUnsubmittedCallsTable)\n        },\n          incNbrRec(i, endNbr, elt) {\n              if (i <= endNbr) {\n                  elt.innerHTML = i;\n                  setTimeout(()=> {//Delay a bit before calling the function again.\n                  this.incNbrRec(i + 1, endNbr, elt);\n                  }, (300/i));\n              }\n          },\n        incEltNbr(id,endNbr) {\n            let elt = document.getElementById(id);\n            console.log('elt',elt)\n            //let endNbr = Number(document.getElementById(id).innerHTML);\n                this.incNbrRec(0, endNbr, elt);\n            },\n\n    \n    }\n    \n}\n</script>\n<style scoped>\n#nbr{\n  font-size:92px;\n}\n#nbr2{\n  font-size:92px;\n}\ntable.v-table tbody td {\n    font-size: 28px !important;\n}\ntable.v-table thead th {\n      font-size: 30px !important;\n\n }\n\n .rotate-img {\n    /* transform: scaleY(-1); */\n   -webkit-transform: scaleY(-1);\n  -moz-transform: scaleY(-1);\n  -ms-transform: scaleY(-1);\n    \n  -webkit-backface-visibility: visible;\n  -moz-backface-visibility:    visible;\n  -ms-backface-visibility:     visible;\n}\n.v-input--hide-details>.v-input__control>.v-input__slot {\n    width:80%;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5785a15f&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5785a15f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5785a15f\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app-main\">\n    <Spinner v-if=\"isLoading\"></Spinner>\n    <home v-else></home>\n  </div>\n</template>\n\n<script>\nimport Spinner from './components/Spinner'\nimport Home from './pages/index' \nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'App',\n  components: {\n    Spinner,\n    Home\n  },\n  computed:{\n    ...mapGetters([\n      'isLoading'\n    ])\n  },\n  methods: {\n      ...mapActions([\n          'loadData'\n      ]),\n       async getData() {\n          await this.loadData();\n      }\n  },\n  async created() {\n     await this.getData()\n   }\n}\n</script>\n\n<style>\n    @import url('../node_modules/@salesforce-ux/design-system/assets/styles/salesforce-lightning-design-system.min.css');\n    html {\n      background: #FAFAF9;\n    }\n</style>\n\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=59216b20&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n/* eslint-disable */\nlet state = {\n    isLoading: true,\n    veevaMessages: {},\n    myFocusAccounts: {},\n    myUnsubmittedCall:[],\n    isMyFocusAvailable:''\n\n}\n\nconst mutations = {\n    'SET_LOADING': (state, isLoading) => {\n        state.isLoading = isLoading;\n    },\n    'SET_MY_FOCUS':(state,myFocusAccounts) => {\n        state.myFocusAccounts = myFocusAccounts\n    },\n    'SET_VEEVA_MESSAGES': (state,veevaMessages) =>{\n        state.veevaMessages = veevaMessages\n    },\n    'SET_MY_UNSUBMITTED_CALLS': (state,myUnsubmittedCall) =>{\n        state.myUnsubmittedCall = myUnsubmittedCall\n    },\n   'SET_IS_MYFOCUS_AVAILABLE': (state,isMyFocusAvailable) =>{\n        state.isMyFocusAvailable = isMyFocusAvailable\n   }\n\n}\n\n\n\nconst actions = {\n    setLoading({ commit }, isLoading) {\n        commit('SET_LOADING', isLoading);\n    }\n}\n\n\nconst getters = {\n   \n    isLoading: state => {\n        return state.isLoading\n    },\n\n    veevaMessages: state =>{\n        return state.veevaMessages\n    },\n    myFocusAccounts: state => {\n        return state.myFocusAccounts\n    },\n    myUnsubmittedCall: state => {\n        return state.myUnsubmittedCall\n    },\n    isMyFocusAvailable: state => {\n        return state.isMyFocusAvailable\n    }\n}\n\nexport default {\n    state,\n    getters,\n    mutations,\n    actions\n}","\n/* eslint-disable */\nimport _ from 'lodash'\nconst thisYear = new Date().getFullYear()\nexport const getIds = (data, idField) =>{\nlet toReturn = []\n   data.data.forEach(item =>{\n       if(item[idField].value != '' && item[idField].value != null  && !toReturn.includes(item[idField].value) ){\n            toReturn.push(item[idField].value)\n       }\n   })\n   return toReturn\n  \n}\n\nexport const objectsFrom = (data, key, value) =>{\n    let toReturn = []\n       data.forEach(item =>{\n                toReturn.push({\n                    [item[key].value]: item[value].value\n                })\n           \n       })\n       return toReturn\n      \n    }\n\nexport const groupBy = (data, groupByField)=>{\n    let result  = _.groupBy(data.data,groupByField)\n    return result;\n}   \n\nexport const groupCallsByAccounts = (calls)=>{\n    console.log('calls',calls)\n    \n  return groupBy(calls, 'Account_vod__c.value');\n}\n\nexport const accountNameById = (accounts)=>{\n    let toReturn = {}\n    accounts.data.forEach(item =>{\n        toReturn[item.Id.value] = item.Name.value\n    }) \n    return toReturn;\n}\n\nexport const getUnsubmittedCalls = (calls)=>{\n    let unsubmittedCalls = {\n        data:[],\n        fieldLabels:calls.fieldLabels\n    }\n    calls.data.forEach(item =>{\n        if(item.Status_vod__c.value == 'Saved_vod' || \n        item.Status_vod__c.value == 'Planned_vod' ||\n        item.Status_vod__c.value == 'Unsubmitted_vod'){\n            unsubmittedCalls.data.push(item)\n        }\n    })\n    return unsubmittedCalls;\n}\n\nexport const viewRecord = (sObject, recordId) => {\n    console.log('I am called', sObject, recordId)\n    const deferred = $q.defer();\n    const smartLink = {\n        object: sObject,\n        fields: { Id: recordId }\n    };\n    ds.viewRecord(smartLink).then(resp => {}, err => {\n        console.log(err);\n    }).catch( err => {\n        console.log(err);\n    });\n    return deferred.promise;\n  }\n\nexport const addNameToDataWithId  = (dataWithId, dataWithName, idField, newFieldName,isFieldLabelExchange) => {\n    console.log('addNameToDataWithId inputs',dataWithId, dataWithName, idField, newFieldName,isFieldLabelExchange )\n    if(dataWithId.data.length > 0 && dataWithName.data.length > 0){\n        dataWithId.data.forEach(item => {\n            dataWithName.data.forEach(name => {\n                if(name.DeveloperName && item[idField].value == name.Id.value){\n                    item[newFieldName] = {\n                        'value':name.DeveloperName.value,\n                        'display':name.Name.display\n                    }\n                } else {\n                    if(item[idField].value == name.Id.value) {\n                         item[newFieldName] = name.Name\n                        console.log('found',newFieldName)\n                    }\n\n                }\n            })\n        })\n\n        if(isFieldLabelExchange){\n            exchangeIdFieldWithLabel(dataWithId,idField,newFieldName)\n        }\n    }\n    console.log('addNameToDataWithId',dataWithId)\n}\n\n\nexport const getMonthNameInCurrentLanguage = (date,language)=>{\n    if(date !=''&& date !=null) {\n        return date.toLocaleDateString(language, {  month: 'short' ,year: '2-digit'}); \n    } else return 'N/A';\n}\n\nexport const areFieldsAvailable = (fieldList, availableFields)=>{\n    let fieldsNotAvailable = []\n    fieldList.forEach(fieldToCheck =>{\n       if(!availableFields.fields.find(field => field.name === fieldToCheck)) {\n            fieldsNotAvailable.push(fieldToCheck)\n       }\n    })\n        return fieldsNotAvailable\n} \n\nexport const addNumberOfCalls = (accounts, callsgrouped) => {\n    console.log('addNumberOfCalls',accounts,callsgrouped)\n    // for (let accountId in callsgrouped ){\n        accounts.data.forEach(account => {\n            console.log('watda',callsgrouped[account.Id.value])\n            account['calls'] = {\n               'display': callsgrouped[account.Id.value]\n            }\n\n        })\n    // }\n    console.log('addNumberOfCalls2',accounts,callsgrouped)\n}\n\n\n\nexport const createDataForVTable = (data, notNeededFields, additionals, notAvailableFields) => {\n    let headers = createVTableHeader(data,notNeededFields,additionals)\n    console.log('createDataForVTable',data, notNeededFields, additionals, notAvailableFields )\n\n     let items = []\n     data.data.forEach(item => {\n         let tempObj = {}\n        for(let key in item) {\n            console.log('key',key)\n            // if(!notNeededFields.includes(key)){\n                if(key == 'Call_Date_vod__c'){ //key == 'date' ||\n                    let date = new Date(item[key].value)\n                     if ( (date.getMonth()+1) < 10 && date.getDate() < 10) {\n                         item[key] = {\n                             'display': date.getFullYear() +'-0'+  (date.getMonth()+1) + '-0' + date.getDate()}\n                     } else if ((date.getMonth()+1) < 10){\n                         item[key] = {\n                             'display':  date.getFullYear() + '-0' + (date.getMonth()+1) +'-'+ date.getDate()}\n                     } else if ((date.getDate()) < 10) {\n                         item[key] = {\n                         'display': date.getFullYear() +'-'+  (date.getMonth()+1) + '-0' + date.getDate()}\n                     } \n                     // tempObj['date'] = item[key].display\n                     tempObj[key] = item[key].display\n                } else {\n                    if(typeof(key[item]) == 'number') {\n                     tempObj[key] = Math.round(item[key].display)\n                    }\n                    // if(item[key].display && item[key].display.includes('vod')){\n                    //     item[key].display =  item[key].display.split('_')[0]\n                    // }\n                    tempObj[key] = item[key].display\n     \n                }\n            // }\n            \n        }\n        items.push(tempObj)\n     })\n     console.log('items', items, headers)\n     \n     return {\n         headers: headers,\n         items: items\n     }\n }\n\n const createVTableHeader = (data,notNeededFields)=>{\n    console.log('createVTableHeader',data,notNeededFields)\n    // notNeededFields.push('Id' )\n    let headers = []\n    let infos={\n        shippedText: '',\n        orderedTExt: ''}\n    data.fieldLabels.forEach(label =>{\n        console.log('label.name',label.name)\n        let tempObj = {}\n        \n        if(notNeededFields){\n            if( !notNeededFields.includes(label.name)){\n                tempObj['text'] = label.display\n                if(label.name =='Account_vod__c'){\n                    tempObj['value'] = 'accountName'\n                } else if (label.name == 'Call_Date_vod__c'){\n                    tempObj['text'] = 'Days unsubmitted'\n                } else {\n                    tempObj['value'] = label.name\n                }\n                // tempObj['value'] = label.name\n                headers.push(tempObj)\n            } \n   \n        \n        } else {\n            if(label.name =='Account_vod__c'){\n                tempObj['value'] = 'accountName'\n            } else {\n                tempObj['value'] = label.name\n            }\n            tempObj['text'] = label.display\n           \n            headers.push(tempObj)\n        }\n    })\n    console.log('headers',headers)\n    return headers;\n}\n\nexport const checkProductLine = (orderLines,veevaMessages)=>{\n    let map = {}\n    orderLines.data.forEach(item => {\n        map[item.zvod_PC_xR1_Group_visibility__c.value] = ''\n    })\n    if(Object.keys(map).length != 1){\n        return {message: veevaMessages.DIFFERENT_ENTITIES,\n        color:'red'}\n    } else{\n        return ''//{message:'ok', color:'green'}\n    }\n}\n\nexport const sumUpListAndCompensation = (orderLines, orderLabel)=>{\n    let tempCompensation = 0\n    let tempListAmount = 0\n    let summary = {}\n    orderLines.data.forEach(item=>{\n       tempCompensation += item.OM_Compensation_Amount__c.value\n       summary['Sum_Compensation_Amount'] =\n        {\n            value: tempCompensation,\n            label: 'Σ ' + item.OM_Compensation_Amount__c.label\n        }\n\n        tempListAmount += item.List_Amount_vod__c.value\n        summary['Sum_Return_Amount'] =\n        {\n            value: tempListAmount,\n            label: 'Σ ' + item.List_Price_Rule_vod__c.label\n        }\n    })\n    let returnAmount = summary['Sum_Return_Amount'].value //* (-1)\n    let percent = (summary['Sum_Compensation_Amount'].value - returnAmount) / returnAmount\n    console.log('percent',percent)\n    summary['delta'] = {\n        value : (Math.abs(percent) > 0) ? (percent * 100)  : 0,\n        label: orderLabel[0].display\n    }\n\n    // ( OM_Order_Compensation_Amount__c - Order_List_Amount_vod__c ) / Order_List_Amount_vod__c\n    \n    console.log('summary',summary)\n    return summary\n}\n\nexport const addVeevaMessages = (summary,veevaMessages)=>{\n    console.log('wtf',summary,veevaMessages)\n    let compensation = {}\n    if( Math.abs(summary.delta.value) > 5){\n        compensation = {\n            number: summary.delta.value.toFixed(2) + '%',\n            message: veevaMessages.COMPENSATION_NOT_OK,\n            color: 'red'\n        }\n    } else {\n        compensation = {\n            number: summary.delta.value.toFixed(2) + '%',\n            message: veevaMessages.COMPENSATION_OK,\n            color: 'green'\n        }\n    }\n    compensation['sum_compensation'] = summary.Sum_Compensation_Amount.value.toFixed(2)\n    compensation['sum_return'] = summary.Sum_Return_Amount.value.toFixed(2)\n    console.log('wtf',compensation)\n    return compensation\n}\n\nexport const calculateCompensation = (orderLines)=>{\n    orderLines.data.forEach(orderLine =>{\n        if(orderLine.OM_Compensation__c.value == 1){\n            orderLine.OM_Compensation_Amount__c.value = orderLine.Free_Goods_vod__c.value * orderLine.List_Price_Rule_vod__c.value\n        }\n       \n    })\n}\n\n\nconst addProcuctName = (orderL, productNames)=>{\n        productNames.forEach(prod =>{\n            if(orderL.Product_vod__c.value == prod.Id){\n                orderL['productName'] = {\n                    value: prod.Name,\n                    label: orderL.Product_vod__c.label\n                }\n            }\n\n        })\n}\n\n\nexport const completeVeevaMessages = (userLanguageVMs, englishVMs) =>{\n    for (var key in englishVMs) {\n        if (!userLanguageVMs[key]) {\n            userLanguageVMs[key] = englishVMs[key]\n        }\n    }\n    return userLanguageVMs;\n}\n\nexport const getInStatementArray = (values) => {\n    if(values) {\n        return `{'` + values.join(`', '`) + `'}`;\n    } else {\n        return '{}';\n    }\n}\n\nexport const getInStatement = (values) => {\n    if(values) {\n        return `{'` + values.toArray().join(`', '`) + `'}`;\n    } else {\n        return '{}';\n    }\n}\n\nexport const arrayToObject = (array, keyField, valueField) => {\n    if(array && array.length > 0) {\n        return array.reduce((obj, item) => {\n            obj[item[keyField]] = item[valueField];\n            return obj;\n        }, {});\n    } else {\n        return {};\n    }\n};","\n\n// var utils = new window.VeevaUtilities();\n/* eslint-disable */\nimport * as ds from '../data/myinsights/query';\nimport * as util from '../helper/util';\n\nexport const loadData = async ({ commit }) => {\n   \ntry {\n        let  myFocusAccounts = {}\n        let currentUserId = await ds.getCurrent('User', 'Id')\n        console.log('user?', currentUserId)\n        const TSFavailableFields = await ds.getAvailableFields('TSF_vod__c')\n        let isMyFocusAvailable = await TSFavailableFields.fields.find(item => item.name == 'My_Focus_gild__c')\n        //test\n        // isMyFocusAvailable = undefined\n       \n        console.log('getTSFavailableFields',TSFavailableFields, isMyFocusAvailable)\n        let myCalls = await ds.getCalls(currentUserId.User.Id)\n       if(isMyFocusAvailable){\n        let focusAccounts = await  ds.getFocusAccounts()\n          myFocusAccounts = await ds.getAccounts(util.getIds(focusAccounts,'Account_vod__c'))\n         \n          if(myFocusAccounts.data.length > 0){\n            let myFocusAccountCalls = await ds.getCalls(currentUserId.User.Id,util.getIds(focusAccounts,'Account_vod__c'))\n            let myfocusAccountCallsGrouped =  await util.groupCallsByAccounts(myFocusAccountCalls)\n            util.addNumberOfCalls(myFocusAccounts,myfocusAccountCallsGrouped)\n            myFocusAccounts.fieldLabels.push({\n                'display' :  myCalls.object.singular,\n                 'name' :  myCalls.object.singular\n                })\n            myFocusAccounts = util.createDataForVTable(myFocusAccounts, ['Id'])\n            console.log('myFocusAccountCalls',myFocusAccountCalls)\n            commit('SET_FOCUS_ACCOUNT_CALLS',myFocusAccountCalls)\n        }\n        isMyFocusAvailable = true\n        //let myCalls = await ds.getCalls(currentUserId)\n        \n        } else {\n            isMyFocusAvailable = false\n            myFocusAccounts['items'] = [] \n            //message: 'No focus accounts\"\n            // veeva messages\n        }\n       console.log('myFocusAccounts', myFocusAccounts,isMyFocusAvailable )\n    commit('SET_MY_FOCUS',myFocusAccounts)\n    commit('SET_IS_MYFOCUS_AVAILABLE',isMyFocusAvailable)\n    let allAccounts =  await ds.getAccounts()\n    \n   \n    let accountNames = await util.accountNameById(allAccounts)\n    myCalls.data.forEach(item=>{\n            item['accountName'] = {\n                'display': accountNames[item.Account_vod__c.value],\n                'name':'accountName'}\n    })\n    let callsGroupedByAccount = await util.groupCallsByAccounts(myCalls)\n    let myUnsubmittedCalls = await util.getUnsubmittedCalls(myCalls)\n    myUnsubmittedCalls = await util.createDataForVTable(myUnsubmittedCalls, ['CreatedById','CreatedDate', 'Status_vod__c'])\n     console.log('calls',myUnsubmittedCalls, callsGroupedByAccount)\n        commit('SET_MY_UNSUBMITTED_CALLS',myUnsubmittedCalls)\n        commit('SET_MYCALLS',myCalls)\n       \n        commit('SET_LOADING',false)\n        \n\n        } catch(err){\n            console.log('ERROR: ' + err)\n            commit('SET_LOADING',false)\n\n        }\n}","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport data from './modules/data';\nimport * as actions from './actions';\n// eslint-disable-file no-prototype-builtins\n// eslint-disable-file no-unused-vars\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  \n    actions,\n    modules: {\n        data\n    }\n});","import Vue from 'vue'\nimport App from './App.vue'\nimport VueRouter from 'vue-router';\nimport routes  from './routes';\n// import BootstrapVue from 'bootstrap-vue/dist/bootstrap-vue.esm';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\nimport { BootstrapVue } from 'bootstrap-vue'\n// import { Bootstrap } from 'bootstrap'\nimport store from './store/store'\n\n// import BootstrapVue from 'bootstrap-vue/dist/bootstrap-vue.esm';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\nimport Vuetify from 'vuetify'\nimport vDataTable from 'v-data-table'\nimport 'vuetify/dist/vuetify.min.css'\n\nimport '@mdi/font/css/materialdesignicons.css'\n\n// eslint-disable-file no-prototype-builtins\n// eslint-disable-file no-unused-vars\n\nVue.use(BootstrapVue);\nVue.use(Vuetify)\n Vue.use(vDataTable);\nVue.use(VueRouter);\nVue.config.productionTip = false\n\nasync function initApp() {\n  const router = new VueRouter({\n    routes\n  });\n\n\n  new Vue({\n    router,\n    store,\n    vuetify: new Vuetify(),\n    render: h => h(App),\n  }).$mount('#app')\n}   \n\ntry{\n  initApp()\n} catch(ex) {\n  document.getElementById('app').innerText = ex.message;\n}\n\n\n","module.exports = __webpack_public_path__ + \"assets/img/arrow_icon.7ba118b5.svg\";"],"sourceRoot":""}